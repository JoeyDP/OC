digraph Studieprogramma{
	node [shape="record", pin=true, style=filled,color=white, height=0.7, fixedsize=true];
	graph [ranksep="6", nodesep="0.2" splines=true, concentrate=true];
	edge [constraint=false];

	/*
	3 SP = 0.25
	6 SP = 0.7
	9 SP = 1.15
	12 SP = 1.6
	*/

	rankdir="LR"

	subgraph cluster_ba1{
		label = "Ba 1"
		style=filled;
		color=lightgrey;

		IP [height=1.15];
		DW [height=1.15];
		CSA [height=1.15];
		GAS;
		/* pad11 [style=invis] */

		ba1_sem [height=0, fixedsize=true, label="", color=black];

		TA [label="T&A"];
		PSE;
		CALC [height=1.15];
		CG;

		/* pad12 [style=invis]
		pad13 [style=invis] */
	}

	subgraph cluster_ba2{
		label = "Ba 2"
		style=filled;
		color=lightgrey;

		GP;
		MB [label="M&B"];
		US;
		IDBS;
		LA;

		ba2_sem [height=0, fixedsize=true, label="", color=black];

		AC [label="A&C"];
		PPD;
		CN;
		FYS;
		NA [height=0.25];
		ES [height=0.25];
	}

	subgraph cluster_ba3{
		label = "Ba 3"
		style=filled;
		color=lightgrey;
		fixedsize=true;
		height=200;

		WP;
		SE;
		TCS;
		DS;
		AI;

		ba3_sem [height=0, fixedsize=true, label="", color=black];

		DSGA [height=0.25];
		COMP;
		LBS [height=0.25];
		BAE [height=1.6];
		KZVK [height=0.7]

		/* pad31 [style=invis]
		pad32 [style=invis] */
	}

	# align clusters by adding invis edge between top items.
	{
		edge	[constraint=true, style=invis];
		IP:ne -> GP:nw;
		GP:ne -> WP:nw;
	}

	# =====================
	# =	dependencies 2Ba	=
	# =====================

	# GP
 	IP:e -> GP:w;
	CSA:e -> GP:w;
	{
		edge [color=red]
		PSE:e -> GP:w;
		CG:e -> GP:w;
	}

	# M&B
	TA:e -> MB:w;
	IP:e -> MB:w [color=green];

	# US
	CSA:e -> US:w;

	# IDBS
	GAS:e -> IDBS:w;

	# LA
	# /

	# A&C
	DW:e -> AC:w;
	TA:e -> AC:w;
	GAS:e -> AC:w;

	# PPD
	IDBS:e -> PPD:e [style=dashed];

	# CN
	DW:e -> CN:w;
	CSA:e -> CN:w;
	CALC:e -> CN:w;

	# FYS
	# /

	# NA
	# /

	# ES
	# /

	# =====================
	# =	dependencies 3Ba	=
	# =====================

	# WP
	CALC:e -> WP:w;
	{
		edge [color=red]
		GP:e -> WP:w;
	}
	LA:e -> WP:w;
	NA:e -> WP:w;

	# SE
	{
		edge [color=red]
		TA:e -> SE:w;
		GAS:e -> SE:w;
		IDBS:e -> SE:w [style=dashed];
		PPD:e -> SE:w [style=dashed];
	}


	# TCS
	GP:e -> TCS:w;
	CN:e -> TCS:w;

	# DS
	{
		edge [color=red]
		GP:e -> DS:w;
	}
	US:e -> DS:w;
	{
		edge [color=green]
		PPD:e -> DS:w [style=dashed];
		IDBS:e -> DS:w [style=dashed];
	}

	# AI
	{
		edge [color=red]
		AC:e -> AI:w;
	}

	# DSGA
	# /
	{
		edge [color=green]
		AC:e -> DSGA:w [style=dashed];
	}

	# COMP
	{
		edge [color=red]
		CSA:e -> COMP:w;
		TA:e -> COMP:w;
		GAS:e -> COMP:w;
	}
	{
		edge [color=green]
		MB:e -> COMP:w;
		GP:e -> COMP:w;
	}

	# LBS
	# /

	# BAE
	GP:e -> BAE:w [style=dashed, color=blue];
	PPD:e -> BAE:w [style=dashed, color=blue];

	SE:e -> BAE:e [style=dashed];
	TCS:e -> BAE:e [style=dashed];
	DS:e -> BAE:e [style=dashed];
	AI:e -> BAE:e [style=dashed];
	COMP:e -> BAE:e [style=dashed];

}
